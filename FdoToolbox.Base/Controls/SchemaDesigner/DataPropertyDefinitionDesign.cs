using System;
using System.Collections.Generic;
using System.Text;
using System.ComponentModel;
using System.Drawing.Design;
using FdoToolbox.Core.Feature;

namespace FdoToolbox.Base.Controls.SchemaDesigner
{
    public class DataPropertyDefinitionDesign : PropertyDefinitionDesign
    {
        private OSGeo.FDO.Schema.DataPropertyDefinition _dataDef;
        
        public DataPropertyDefinitionDesign(OSGeo.FDO.Schema.DataPropertyDefinition dp)
            : base(dp)
        {
            _dataDef = dp;
        }

        public DataPropertyDefinitionDesign(OSGeo.FDO.Schema.DataPropertyDefinition dp, FdoConnection conn) : base(dp, conn)
        {
            _dataDef = dp;
        }

        [Description("The FDO data type of this property")]
        public OSGeo.FDO.Schema.DataType DataType
        { 
            get { return _dataDef.DataType; } 
            set { _dataDef.DataType = value; } 
        }

        [Description("The default value of this property")]
        public string DefaultValue
        { 
            get { return _dataDef.DefaultValue; } 
            set { _dataDef.DefaultValue = value; } 
        }

        [Description("Indicates if this is an auto-generated property")]
        public bool IsAutoGenerated
        { 
            get { return _dataDef.IsAutoGenerated; } 
            set { _dataDef.IsAutoGenerated = value; } 
        }

        [Description("The length of this property. Only applies to string, BLOB or CLOB properties")]
        public int Length
        { 
            get { return _dataDef.Length; } 
            set { _dataDef.Length = value; } 
        }

        [Description("Indicates if this property accepts null values")]
        public bool Nullable
        { 
            get { return _dataDef.Nullable; } 
            set { _dataDef.Nullable = value; } 
        }

        [Description("The precision (total number of digits) of this property. Only applies if this property is a decimal")]
        public int Precision
        {
            get
            {
                return _dataDef.Precision;
            }
            set 
            { _dataDef.Precision = value; }
        }

        [Description("Indicates if this property is read-only")]
        public bool ReadOnly
        { 
            get { return _dataDef.ReadOnly; } 
            set { _dataDef.ReadOnly = value; } 
        }

        [Description("The scale (number of digits to the right of the decimal point) of this property. Only applies if tis property is a decimal")]
        public int Scale
        { 
            get { return _dataDef.Scale; } 
            set { _dataDef.Scale = value; } 
        }

        [Description("The value constraint of this data property")]
        [Editor(typeof(ValueConstraintEditor), typeof(UITypeEditor))]
        public OSGeo.FDO.Schema.PropertyValueConstraint ValueConstraint
        { 
            get { return _dataDef.ValueConstraint; } 
            set { _dataDef.ValueConstraint = value; } 
        }
    }
}
